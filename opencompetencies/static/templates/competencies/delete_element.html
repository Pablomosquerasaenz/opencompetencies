{% extends 'base.html' %}
{% load competency_tags %}

{% block title_extension %} - {{ organization }}{% endblock %}

{% block content %}

    <a href='{% url 'competencies:sa_summary' subject_area.id %}'>view summary</a> |
    <a href='{% url 'competencies:edit_sa_summary' subject_area.id %}'>edit</a> |
    <a href='{% url 'competencies:edit_sa_summary_order' subject_area.id %}'>modify order</a> |
	 <a href='{% url 'competencies:sa_summary_pdf' subject_area.id %}'>pdf</a>

	 <h2><a href='{% url 'competencies:organization' organization.id %}'>{{ organization }}</a></h2>

	 <h2>{{ subject_area }}</h2>

	 <h4>Are you sure you want to delete this {{ object_to_delete.get_alias }}? <small>(deleted elements can not be recovered)</small></h4>
	 <p>{{ object_to_delete }}</p>

    <h4>The following related elements will also be deleted:</h4>
	 <ul>
	 {% for element in cascade_elements %}
	   {% if element|is_list %}
	     {% for sub_element in element %}
	       <li class='nested_item'><b>{{ sub_element.get_alias|title }}:</b> {{ sub_element }}</li>
		  {% endfor %}
		{% else %}
	     <li><b>{{ element.get_alias|title }}:</b> {{ element }}</li>
		{% endif %}
	 {% empty %}
		<li>No other elements will be deleted.</li>
	 {% endfor %}
	 </ul>

	 <form method='post' action=''>
		  {% csrf_token %}
		  <input type='hidden' name='confirm_delete' value='True' />
		  <button type='submit' class='btn btn-danger confirm_delete_button'>
			 Delete this {{ object_to_delete.get_alias }}
		  </button>
	 </form>
	 
	 <p><a href="{% url 'competencies:sa_summary' subject_area.id %}">Cancel</a></p>

{% endblock %}
